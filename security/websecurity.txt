Security Detials on your code
1. Your javascript can be read by anyone
2. Do not put database information in your javascript 

Cross Site Scripting Attacks
1. Attack pattern where malicious code get injected to URL or form input 
User can use the script tag <script>, or <img src="" onerror="alert('test')" > in url or form
/your/GET/url?params=<script>malicious code</script>" 
2. to prevent XSS. Use proper input validation and output sanitization

CSRF 
Session ID from server that is saved on a cookie on user's browser is then used or stolen by an attacker to create unauthorized request to the server. 
https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html
- Check if your framework has built-in CSRF protection and use it
    - If framework does not have built-in CSRF protection add CSRF tokens to all state changing requests (requests that cause actions on the site) and validate them on backend
- For stateful software use the synchronizer token pattern
- For stateless software use double submit cookies
- Implement at least one mitigation from Defense in Depth Mitigations section
    - Consider SameSite Cookie Attribute for session cookies but be careful to NOT set a cookie specifically for a domain as that would introduce a security vulnerability that all subdomains of that domain share the cookie. This is particularly an issue when a subdomain has a CNAME to domains not in your control.
    - Consider implementing user interaction based protection for highly sensitive operations
    - Consider the use of custom request headers
    - Consider verifying the origin with standard headers
- Remember that any Cross-Site Scripting (XSS) can be used to defeat all CSRF mitigation techniques!

CORS 
- Browser builtin technology 
browser's same-origin policy blocks reading a resource from a different origin

- The HTTP header is used to negotiate the type of message exchange between the client and the server and is used to determine access
- A header can include a variety of information expressed as key-value pairs - https://www.geeksforgeeks.org/http-headers/

How to allow CORS -  https://web.dev/cross-origin-resource-sharing/
When you want to get a public resource from a different origin, the resource-providing server needs to tell the browser "This origin where the request is coming from can access my resource". The browser remembers that and allows cross-origin resource sharing.

Step 1: client (browser) request #
When the browser is making a cross-origin request, the browser adds an Origin header with the current origin (scheme, host, and port).

Step 2: server response #
On the server side, when a server sees this header, and wants to allow access, it needs to add an Access-Control-Allow-Origin header to the response specifying the requesting origin (or * to allow any origin.)

Step 3: browser receives response #
When the browser sees this response with an appropriate Access-Control-Allow-Origin header, the browser allows the response data to be shared with the client site.

Try the Command from Console: 
fetch('https://cors-demo.glitch.me/', {mode:'cors'}) - This get the CORS error because the server did not send the - access-control-allow-origin: *
fetch('https://cors-demo.glitch.me/allow-cors', {mode:'cors'}) - This request is successfule because it received from response header - access-control-allow-origin: * 

https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Headers

HTTP Authentication Types
Basic Authentication - https://www.youtube.com/watch?v=rhi1eIjSbvk
    - Client send a user name and password (Base 64 encoded) 
    - Server will decode the username and password
    - How Jquery send Basic Authentication to the server - https://stackoverflow.com/questions/5507234/use-basic-authentication-with-jquery-and-ajax

Bearer token
    - How jquery send bearer token to the server - https://stackoverflow.com/questions/35861012/how-to-send-a-token-with-an-ajax-request-from-jquery

API key
    - https://stackoverflow.com/questions/46629211/how-to-post-api-key-to-api-gateway-as-a-request-header-using-jquery-ajax

Digest Authentication - https://en.wikipedia.org/wiki/Digest_access_authentication

var settings = {
  "url": "<url>",
  "method": "POST",
  "timeout": 0,
  "headers": {
    "Authorization": "Digest username=\"test\", realm=\"jtest@test.com\", nonce=\"test\", uri=\"/\", algorithm=\"MD5-sess\", qop=auth-int, nc=.00001, cnonce=\"0aasdfF1\", response=\"<encodedpassword>\", opaque=\"asdfasdf\""
  },
};

$.ajax(settings).done(function (response) {
  console.log(response);
});


Auth 1.0 - https://docs.akana.com/cm/api_oauth/oauth_oauth10/m_oauth10_generateAccessTokenGET.htm
var settings = {
  "url": "https://www.instagram.com/",
  "method": "POST",
  "timeout": 0,
  "headers": {
    "Authorization": "OAuth oauth_consumer_key=\"consomerkey\",oauth_token=\"accesstoken\",oauth_signature_method=\"HMAC-SHA1\",oauth_timestamp=\"1636668890\",oauth_nonce=\"L3pfB7GuOtw\",oauth_version=\"1.0\",oauth_signature=\"oFAjx7LO%2B%2FppDiqylf4d7hOirfw%3D\"",
    "Cookie": "csrftoken=8qgtt0aklrUFrveQafXVF16t21YhaueI; ig_did=2EA102E6-E15A-41ED-92BD-138219D26587; ig_nrcb=1; mid=YY2RigAEAAHTIEGbsk12nJanrt-R"
  },
};

$.ajax(settings).done(function (response) {
  console.log(response);
});


OAUTH 2.0 
https://www.oauth.com/oauth2-servers/server-side-apps/example-flow/
https://aaronparecki.com/oauth-2-simplified/